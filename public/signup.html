<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 - Llama Chat AI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f172a; color: #0f172a; min-height: 100vh; display: flex; align-items: center; justify-content: center; }
        .card { width: 100%; max-width: 400px; background: #fff; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,.25); padding: 24px; }
        h1 { font-size: 1.25rem; margin-bottom: 16px; color: #111827; }
        .field { margin-bottom: 12px; }
        label { display: block; font-size: .9rem; color: #334155; margin-bottom: 6px; }
        input { width: 100%; padding: 10px 12px; border: 1px solid #cbd5e1; border-radius: 10px; font-size: 1rem; }
        button { width: 100%; padding: 10px 14px; border: none; border-radius: 10px; color: #fff; background: linear-gradient(135deg,#667eea,#764ba2); font-size: 1rem; cursor: pointer; margin-top: 8px; }
        .link { margin-top: 12px; text-align: center; font-size: .9rem; }
        .link a { color: #4f46e5; text-decoration: none; }
        .error { margin-top: 8px; color: #dc2626; font-size: .9rem; min-height: 20px; }
    </style>
    <script>
        async function onSignup(event) {
            event.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            const name = document.getElementById('name').value.trim();
            const errorEl = document.getElementById('error');
            errorEl.textContent = '';
            if (!email || !password) { errorEl.textContent = '이메일과 비밀번호를 입력해주세요.'; return; }
            try {
                const res = await fetch('/api/auth/signup', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, password, name }) });
                if (!res.ok) {
                    const data = await res.json().catch(() => ({}));
                    errorEl.textContent = data.error || '회원가입 실패';
                    return;
                }
                window.location.href = '/';
            } catch (e) {
                errorEl.textContent = '네트워크 오류가 발생했습니다.';
            }
        }
        function goHome() { window.location.href = '/'; }
        function goLogin() { window.location.href = '/login.html'; }
    </script>
    </head>
<body>
    <div class="card">
        <h1>회원가입</h1>
        <form onsubmit="onSignup(event)">
            <div class="field">
                <label for="email">이메일</label>
                <input id="email" type="email" autocomplete="username" required>
            </div>
            <div class="field">
                <label for="password">비밀번호</label>
                <input id="password" type="password" autocomplete="new-password" required>
            </div>
            <div class="field">
                <label for="name">이름 (선택)</label>
                <input id="name" type="text">
            </div>
            <button type="submit">회원가입</button>
            <div id="error" class="error"></div>
        </form>
        <div class="link">
            <a href="javascript:goLogin()">로그인</a> · <a href="javascript:goHome()">홈으로</a>
        </div>
    </div>
</body>
</html>


