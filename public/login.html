<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 - NodeChat AI</title>
    <link rel="stylesheet" href="auth.style.css">
    <script>
        async function onLogin(event) {
            event.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            const errorEl = document.getElementById('error');
            errorEl.textContent = '';
            if (!email || !password) { errorEl.textContent = '이메일과 비밀번호를 입력해주세요.'; return; }
            try {
                const res = await fetch('/api/auth/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, password }) });
                if (!res.ok) {
                    const data = await res.json().catch(() => ({}));
                    errorEl.textContent = data.error || '로그인 실패';
                    return;
                }
                window.location.href = '/';
            } catch (e) {
                errorEl.textContent = '네트워크 오류가 발생했습니다.';
            }
        }
        function goHome() { window.location.href = '/'; }
        function goSignup() { window.location.href = '/signup.html'; }
    </script>
    </head>
<body>
    <div class="card">
        <h1>로그인</h1>
        <form onsubmit="onLogin(event)">
            <div class="field">
                <label for="email">이메일</label>
                <input id="email" type="email" autocomplete="username" required>
            </div>
            <div class="field">
                <label for="password">비밀번호</label>
                <input id="password" type="password" autocomplete="current-password" required>
            </div>
            <button type="submit">로그인</button>
            <div id="error" class="error"></div>
        </form>
        <div class="link">
            <a href="javascript:goSignup()">회원가입</a> · <a href="javascript:goHome()">홈으로</a>
        </div>
    </div>
</body>
</html>


